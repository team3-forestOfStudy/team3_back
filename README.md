# 🚀 공부의 숲 (Study Forest) 백엔드

코드잇 초급 프로젝트 '공부의 숲'(풀스택 10기 - 3팀)의 RESTful API 서버 레포지토리입니다.

## 🌟 1. 프로젝트 개요 (Overview)

저희 서비스는 사용자가 자신만의 스터디를 만들고, 수행하고 싶은 습관을 기록하며, 집중 타이머를 통해 포인트를 획득하는 플랫폼입니다.

- **핵심 목표:** 사용자 스터디 생성 및 관리, 습관 기록, 집중 타이머를 통한 포인트 적립 시스템 구축
- **배포 URL:** (최종 배포 후 추가 예정)

---

## 🛠️ 2. 기술 스택 (Tech Stack)

| 구분                | 기술                  | 설명                                                          |
| :------------------ | :-------------------- | :------------------------------------------------------------ |
| **언어/프레임워크** | **JavaScript (ES6+)** | 프론트/백엔드 언어 통일로 협업 효율성 증대                    |
|                     | **Express.js**        | 간결하며 빠른 API 서버 구축에 용이                            |
| **데이터베이스**    | **PostgreSQL (Neon)** | 신뢰성과 확장성이 높은 관계형 데이터베이스 사용               |
| **ORM**             | **Prisma**            | 개발 생산성 증대 및 `snake_case` → `camelCase` 자동 변환 활용 |
| **인증/보안**       | **Bcrypt**            | 스터디 비밀번호의 안전한 **일방향 해싱** 저장                 |
| **개발 도구**       | **Nodemon**           | 소스 코드 변경 시 서버 자동 재시작으로 개발 편의성 확보       |

---

## ⚙️ 3. 아키텍처 및 계층 분리 (Architecture)

저희 백엔드 서버는 **3계층 아키텍처 (Layered Architecture)**를 기반으로 구축되어, 각 계층의 역할을 명확히 분리하여 유지보수성과 테스트 용이성을 높였습니다.

| 계층           | 역할                                                   | 파일                   |
| :------------- | :----------------------------------------------------- | :--------------------- |
| **Router**     | URL 및 HTTP 메서드를 **Controller**와 연결             | `src/routes/*.js`      |
| **Controller** | 요청/응답 처리, 파라미터 유효성 검사, **Service** 호출 | `src/controllers/*.js` |
| **Service**    | **핵심 비즈니스 로직** 구현 및 DB 접근 (Prisma)        | `src/services/*.js`    |

---

## 🗺️ 4. API 문서 및 명세 (API Documentation & Specs)

### 4.1. Swagger UI를 통한 문서 확인

- OpenAPI 스펙 파일: `openapi.yaml`
- 서버 실행 후 브라우저에서 접속하여 최신 API 명세를 확인하실 수 있습니다.

```
👉 http://localhost:4000/docs
```

### 4.2. 주요 API 명세

모든 API 엔드포인트는 /api/ 접두사로 시작하며, RESTful 원칙을 따릅니다.
| 도메인 | 목적 | 메서드 | 엔드포인트 | 특징 |
| :--- | :--- | :--- | :--- | :--- |
| **Health** | 서버 상태 확인 | `GET` | `/health` | 서버 동작 확인 |
| **Study** | 스터디 생성 | `POST` | `/api/studies` | 비밀번호 암호화 후 생성 |
| **Study** | 목록 조회 | `GET` | `/api/studies` | 검색, 정렬, 페이지네이션(더보기) 지원 |
| **Study** | 상세 조회 | `GET` | `/api/studies/{studyId}` | - |
| **Study** | 수정 | `PATCH` | `/api/studies/{studyId}` | 비밀번호 인증 필요 |
| **Study** | 삭제 | `DELETE` | `/api/studies/{studyId}` | 비밀번호 인증 필요, `status`를 `DELETED`로 변경 |
| **Focus** | 집중 기록/포인트 적립 | `POST` | `/api/studies/{studyId}/focus-logs` | 트랜잭션: 10분당 1P + 보너스 3P 적립 로직 적용 |
| **Emoji** | 등록/카운트 증가 | `POST` | `/api/studies/{studyId}/emojis` | Upsert 로직 적용 |
| **Emoji** | 목록 조회 | `GET` | `/api/studies/{studyId}/emojis` | 카운트 기준 내림차순 정렬 |
| **Habit** | 오늘의 습관 | - | - | 팀원 구현 중 |

---

## 🤝 5. 협업 및 기여 (Contribution)

### 5.1. 브랜치 전략

GitHub Flow를 따르며, 기능별 브랜치에서 작업 후 PR을 통해 코드를 검토하고 병합합니다.

- main: 운영 환경 배포 코드
- dev: 개발 통합 브랜치
- feature/\*: 기능 개발 브랜치 (예: feature/study-crud)

### 5.2. PR (Pull Request) 가이드라인

1. 작업 완료 후 dev 브랜치로 PR을 생성합니다.
2. PR 제목은 [타입]: 변경의 종류 (새로운 기능) 형식으로 작성합니다. (예: [feat] 스터디 수정, 삭제 API 구현)
3. PR 본문에 변경 내용을 기재합니다.

---

## 👤 6. 주요 담당자

| 역할                 | 이름   |
| :------------------- | :----- |
| **스터디 관련 구현** | 이수진 |
| **오늘의 습관 구현** | 손동익 |
| **오늘의 집중 구현** | 이수진 |
